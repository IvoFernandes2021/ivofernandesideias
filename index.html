<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Ivo Fernandes | Futurista VR & IA</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Roboto+Mono&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="scroll-smooth">
<canvas id="fundoVR" class="fixed top-0 left-0 w-full h-full z-[-1]"></canvas>

<header>…{/* Seu header existente com novas classes neon */}</header>

<section id="chat-ia">…</section>
<section id="topo">…</section>
{/* Todas as seções: cards, ativo digital, gráfico, simulador, gamificação, comentários, FAQ */}
<section id="admin">…</section>
<section id="videos-recompensa">…</section>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, doc, getDoc, setDoc, collection, getDocs, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
  import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

  const firebaseConfig = { /* .env ou substitua aqui */ };
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const auth = getAuth(app);

  /* Fundo VR Partículas */
  const canvas = document.getElementById('fundoVR');
  const ctx2 = canvas.getContext('2d');
  canvas.width = innerWidth; canvas.height = innerHeight;
  const nodes = Array.from({ length: 100 }, () => ({ x:Math.random()*canvas.width,y:Math.random()*canvas.height,vx:(Math.random()-0.5)*0.5,vy:(Math.random()-0.5)*0.5 }));
  (function draw(){ /* loop de partículas */ })();

  /* Chat IA */
  async function enviarMensagem() { /* fetch OpenAI + inserir mensagem no Firestore + adicionar pontos */ }

  /* Chart.js */
  const ctx = document.getElementById('graficoAtivoDigital').getContext('2d');
  new Chart(ctx, { /* dados simulados */ });

  /* Simulador CoinGecko */
  async function fetchPrecoAtual(cripto) { /* fetch */ }
  async function fetchPrecoHistorico(cripto,date) { /* fetch histórico */ }
  async function simularInvestimento() { /* lógica + adicionar pontos */ }

  /* Gamificação */
  let pontos=0, cfg={ptsVideo:10,ptsChat:15,ptsSimulacao:20};
  function adicionarPontos(valor){ /* atualizar DOM */ }
  function adicionarPontosAcao(tipo){ adicionarPontos(cfg[`pts${tipo.charAt(0).toUpperCase()+tipo.slice(1)}`]); }
  onAuthStateChanged(auth, user => user && carregarConfig());

  /* Admin Auth e painel */
  async function loginAdmin(email,senha){ try{ await signInWithEmailAndPassword(auth,email,senha) }catch(e){alert(e.message)} }
  function logoutAdmin(){ signOut(auth); }

  async function carregarConfig(){ /* carregar e preencher cfg */ }
  async function salvarConfig(){ /* setDoc config */ }
  async function verVisualizacoes(){ /* getDocs visualizacoes + inserir no DOM */ }
  async function verConversas(){ /* getDocs conversas + inserir no DOM */ }
</script>
</body>
</html>
